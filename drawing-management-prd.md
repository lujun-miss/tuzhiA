# 企业图纸管理系统产品需求文档

## 1. 产品概览

企业图纸管理系统是一个专为企业内部图纸文件管理设计的系统，旨在提升企业图纸管理效率，确保图纸文件的安全性和可追溯性。

### 1.1 项目背景

在企业日常运营中，图纸文件的管理是一项重要但复杂的工作。传统的图纸管理方式存在以下问题：
- 图纸文件分散存储，难以统一管理和查找
- 图纸版本混乱，容易使用错误版本
- 图纸审批流程不规范，缺乏有效的审批记录
- 图纸安全难以保障，容易泄露或丢失

为了解决这些问题，我们设计了企业图纸管理系统，通过集中存储、版本控制、规范审批流程等功能，实现图纸文件的高效管理和安全保障。

### 1.2 产品价值

- **提高管理效率**：集中存储图纸文件，支持快速搜索和查找，减少人工管理成本
- **确保版本统一**：严格的版本控制机制，确保使用最新版本的图纸
- **规范审批流程**：标准化的审批流程，提高审批效率，确保图纸质量
- **保障信息安全**：完善的权限管理和操作日志，确保图纸文件的安全性
- **促进协作共享**：支持多人协作，方便团队成员共享和访问图纸文件

### 1.3 设计理念

- **用户至上**：以用户需求为中心，设计简洁直观的操作界面
- **安全可靠**：采用多层次安全保障机制，确保图纸文件的安全性
- **高效便捷**：优化操作流程，减少不必要的步骤，提高工作效率
- **可扩展性**：系统设计具有良好的可扩展性，支持未来功能的增加和业务的发展

### 1.4 目标用户

- **企业管理层**：需要了解企业图纸整体情况，审批重要图纸
- **设计工程师**：需要上传、修改、查看图纸文件
- **生产人员**：需要查看和使用图纸文件进行生产
- **系统管理员**：需要管理系统用户、权限和配置

## 2. 核心功能

### 2.1 功能模块

我们的企业图纸管理系统包含以下核心页面：

1. **系统管理**：用户管理、角色管理、部门管理、系统设置
2. **图纸管理**：图纸上传、图纸列表、图纸详情、图纸编辑、图纸审批
3. **审批管理**：审批列表、审批详情、审批操作
4. **日志管理**：操作日志、登录日志、审批日志

### 2.2 页面详情

| 页面名称 | 模块名称 | 功能描述 |
|---------|---------|--------|
| 系统管理 | 用户管理 | 管理系统用户，包括添加、编辑、删除用户，设置用户密码和状态 |
| 系统管理 | 角色管理 | 管理系统角色，包括添加、编辑、删除角色，设置角色权限 |
| 系统管理 | 部门管理 | 管理企业部门，包括添加、编辑、删除部门，设置部门负责人 |
| 系统管理 | 系统设置 | 管理系统全局设置，包括系统名称、Logo、邮件服务器等 |
| 图纸管理 | 图纸上传 | 上传新图纸，支持拖拽上传和文件选择上传，自动提取文件名称作为图纸名称 |
| 图纸管理 | 图纸列表 | 展示图纸列表，支持按文件夹、图纸名称、版本号、审批状态等筛选和排序 |
| 图纸管理 | 图纸详情 | 查看图纸详细信息，包括图纸基本信息、版本历史、审批记录等 |
| 图纸管理 | 图纸编辑 | 修改图纸信息，包括图纸名称、版本号、描述等，修改后可重新提交审批 |
| 图纸管理 | 图纸审批 | 审批图纸，包括通过、退回操作，支持添加审批意见和附件 |
| 审批管理 | 审批列表 | 展示待审批图纸列表，支持按审批状态、审批人、提交时间等筛选和排序 |
| 审批管理 | 审批详情 | 查看审批详细信息，包括审批流程、审批意见、附件等 |
| 审批管理 | 审批操作 | 执行审批操作，包括通过、退回，支持添加审批意见和附件 |
| 日志管理 | 操作日志 | 记录用户操作日志，包括操作时间、操作人、操作类型、操作内容等 |
| 日志管理 | 登录日志 | 记录用户登录日志，包括登录时间、登录人、登录IP、登录状态等 |
| 日志管理 | 审批日志 | 记录审批操作日志，包括审批时间、审批人、审批操作、审批意见等 |

## 3. 页面详情

### 3.1 系统管理

#### 3.1.1 用户管理

- **页面功能**：管理系统用户，包括添加、编辑、删除用户，设置用户密码和状态
- **页面元素**：用户列表表格、添加用户按钮、编辑用户按钮、删除用户按钮、用户状态切换按钮、搜索框、分页控件
- **操作流程**：
  1. 系统管理员进入用户管理页面
  2. 查看用户列表，可通过搜索框筛选用户
  3. 点击添加用户按钮，填写用户信息并保存
  4. 点击编辑用户按钮，修改用户信息并保存
  5. 点击删除用户按钮，确认后删除用户
  6. 点击用户状态切换按钮，启用或禁用用户

#### 3.1.2 角色管理

- **页面功能**：管理系统角色，包括添加、编辑、删除角色，设置角色权限
- **页面元素**：角色列表表格、添加角色按钮、编辑角色按钮、删除角色按钮、权限设置按钮、搜索框、分页控件
- **操作流程**：
  1. 系统管理员进入角色管理页面
  2. 查看角色列表，可通过搜索框筛选角色
  3. 点击添加角色按钮，填写角色信息并设置权限后保存
  4. 点击编辑角色按钮，修改角色信息和权限后保存
  5. 点击删除角色按钮，确认后删除角色

#### 3.1.3 部门管理

- **页面功能**：管理企业部门，包括添加、编辑、删除部门，设置部门负责人
- **页面元素**：部门树状结构、添加部门按钮、编辑部门按钮、删除部门按钮、搜索框
- **操作流程**：
  1. 系统管理员进入部门管理页面
  2. 查看部门树状结构，可通过搜索框筛选部门
  3. 点击添加部门按钮，填写部门信息并保存
  4. 点击编辑部门按钮，修改部门信息并保存
  5. 点击删除部门按钮，确认后删除部门

#### 3.1.4 系统设置

- **页面功能**：管理系统全局设置，包括系统名称、Logo、邮件服务器等
- **页面元素**：系统基本信息设置表单、邮件服务器设置表单、保存按钮
- **操作流程**：
  1. 系统管理员进入系统设置页面
  2. 修改系统基本信息和邮件服务器设置
  3. 点击保存按钮，保存设置

### 3.2 图纸管理

#### 3.2.1 图纸上传

- **页面功能**：上传新图纸，支持拖拽上传和文件选择上传，自动提取文件名称作为图纸名称
- **页面元素**：拖拽上传区域、文件选择按钮、文件夹选择下拉框、图纸名称输入框、版本号输入框、描述文本框、开始上传按钮
- **操作流程**：
  1. 用户点击上传图纸按钮，打开上传模态框
  2. 拖拽文件到上传区域或点击文件选择按钮选择文件
  3. 系统自动提取文件名称作为图纸名称，用户可修改
  4. 选择图纸所属文件夹
  5. 输入版本号和描述
  6. 点击开始上传按钮，上传图纸
  7. 上传完成后，系统显示上传成功提示

#### 3.2.2 图纸列表

- **页面功能**：展示图纸列表，支持按文件夹、图纸名称、版本号、审批状态等筛选和排序
- **页面元素**：文件夹树状结构、筛选条件表单、图纸列表表格、批量操作按钮（批量下载、批量删除）、分页控件
- **操作流程**：
  1. 用户进入图纸管理页面
  2. 在左侧文件夹树状结构中选择文件夹，右侧显示该文件夹下的图纸
  3. 在筛选条件表单中填写筛选条件，点击查询按钮筛选图纸
  4. 点击表格表头排序图纸列表
  5. 选择多个图纸，点击批量操作按钮进行批量下载或批量删除
  6. 点击分页控件切换页面

#### 3.2.3 图纸详情

- **页面功能**：查看图纸详细信息，包括图纸基本信息、版本历史、审批记录等
- **页面元素**：图纸基本信息展示、版本历史列表、审批记录列表、下载按钮、关闭按钮
- **操作流程**：
  1. 用户在图纸列表中点击详情按钮，打开详情模态框
  2. 查看图纸基本信息、版本历史和审批记录
  3. 点击下载按钮下载图纸文件
  4. 点击关闭按钮关闭模态框

#### 3.2.4 图纸编辑

- **页面功能**：修改图纸信息，包括图纸名称、版本号、描述等，修改后可重新提交审批
- **页面元素**：图纸名称输入框、版本号输入框、描述文本框、保存按钮、关闭按钮
- **操作流程**：
  1. 用户在图纸列表中点击修改按钮，打开编辑模态框
  2. 修改图纸名称、版本号、描述等信息
  3. 点击保存按钮，保存修改
  4. 系统显示保存成功提示，修改后的图纸状态变为待审核
  5. 点击关闭按钮关闭模态框

#### 3.2.5 图纸审批

- **页面功能**：审批图纸，包括通过、退回操作，支持添加审批意见和附件
- **页面元素**：图纸基本信息展示、审批意见输入框、附件上传区域、通过按钮、退回按钮、关闭按钮
- **操作流程**：
  1. 用户在图纸列表中点击审批按钮，打开审批模态框
  2. 查看图纸基本信息
  3. 输入审批意见，可上传附件
  4. 点击通过按钮，审批通过
  5. 点击退回按钮，审批退回
  6. 系统显示审批成功提示
  7. 点击关闭按钮关闭模态框

### 3.3 审批管理

#### 3.3.1 审批列表

- **页面功能**：展示待审批图纸列表，支持按审批状态、审批人、提交时间等筛选和排序
- **页面元素**：筛选条件表单、审批列表表格、分页控件
- **操作流程**：
  1. 用户进入审批管理页面
  2. 在筛选条件表单中填写筛选条件，点击查询按钮筛选审批
  3. 点击表格表头排序审批列表
  4. 点击分页控件切换页面

#### 3.3.2 审批详情

- **页面功能**：查看审批详细信息，包括审批流程、审批意见、附件等
- **页面元素**：审批基本信息展示、审批流程图表、审批意见列表、附件列表、关闭按钮
- **操作流程**：
  1. 用户在审批列表中点击详情按钮，打开详情模态框
  2. 查看审批基本信息、审批流程、审批意见和附件
  3. 点击关闭按钮关闭模态框

#### 3.3.3 审批操作

- **页面功能**：执行审批操作，包括通过、退回，支持添加审批意见和附件
- **页面元素**：审批意见输入框、附件上传区域、通过按钮、退回按钮、关闭按钮
- **操作流程**：
  1. 用户在审批列表中点击审批按钮，打开审批模态框
  2. 输入审批意见，可上传附件
  3. 点击通过按钮，审批通过
  4. 点击退回按钮，审批退回
  5. 系统显示审批成功提示
  6. 点击关闭按钮关闭模态框

### 3.4 日志管理

#### 3.4.1 操作日志

- **页面功能**：记录用户操作日志，包括操作时间、操作人、操作类型、操作内容等
- **页面元素**：筛选条件表单、操作日志列表表格、分页控件
- **操作流程**：
  1. 用户进入操作日志页面
  2. 在筛选条件表单中填写筛选条件，点击查询按钮筛选操作日志
  3. 查看操作日志列表
  4. 点击分页控件切换页面

#### 3.4.2 登录日志

- **页面功能**：记录用户登录日志，包括登录时间、登录人、登录IP、登录状态等
- **页面元素**：筛选条件表单、登录日志列表表格、分页控件
- **操作流程**：
  1. 用户进入登录日志页面
  2. 在筛选条件表单中填写筛选条件，点击查询按钮筛选登录日志
  3. 查看登录日志列表
  4. 点击分页控件切换页面

#### 3.4.3 审批日志

- **页面功能**：记录审批操作日志，包括审批时间、审批人、审批操作、审批意见等
- **页面元素**：筛选条件表单、审批日志列表表格、分页控件
- **操作流程**：
  1. 用户进入审批日志页面
  2. 在筛选条件表单中填写筛选条件，点击查询按钮筛选审批日志
  3. 查看审批日志列表
  4. 点击分页控件切换页面

## 4. 核心流程

### 4.1 图纸上传流程

1. 用户点击上传图纸按钮，打开上传模态框
2. 用户选择或拖拽文件到上传区域
3. 系统自动提取文件名称作为图纸名称，用户可修改
4. 用户选择图纸所属文件夹
5. 用户输入版本号和描述
6. 用户点击开始上传按钮
7. 系统上传文件并保存图纸信息
8. 系统显示上传成功提示
9. 系统自动将图纸状态设置为待审核
10. 模态框关闭，图纸列表刷新

### 4.2 图纸审批流程

1. 审批人员进入审批管理页面
2. 审批人员查看待审批图纸列表
3. 审批人员点击审批按钮，打开审批模态框
4. 审批人员查看图纸基本信息
5. 审批人员输入审批意见，可上传附件
6. 审批人员点击通过或退回按钮
7. 系统更新图纸审批状态
8. 系统记录审批操作日志
9. 系统显示审批成功提示
10. 模态框关闭，审批列表刷新

### 4.3 图纸复制流程

1. 用户在图纸列表中选择图纸，点击复制按钮
2. 系统创建图纸副本，自动生成新的版本号
3. 系统将副本状态设置为待审核
4. 系统记录操作日志
5. 系统显示复制成功提示
6. 图纸列表刷新，显示新创建的副本

### 4.4 图纸移动流程

1. 用户在图纸列表中选择图纸，点击移动按钮
2. 系统打开移动文件夹选择模态框
3. 用户选择目标文件夹
4. 用户点击确认按钮
5. 系统更新图纸所属文件夹
6. 系统记录操作日志
7. 系统显示移动成功提示
8. 模态框关闭，图纸列表刷新

## 5. 用户接口设计

### 5.1 设计风格

- **主色调**：蓝色 (#1890ff)，代表专业、信任和稳定
- **辅助色**：绿色 (#52c41a) 表示成功，黄色 (#faad14) 表示警告，红色 (#f5222d) 表示错误
- **中性色**：白色 (#ffffff) 作为背景，浅灰色 (#f0f2f5) 作为分隔，深灰色 (#262626) 作为文本
- **字体**：Microsoft YaHei, Arial, sans-serif
- **按钮样式**：圆角矩形按钮，有 hover 效果
- **卡片样式**：白色背景，轻微阴影，圆角边框
- **图标**：使用 Font Awesome 图标库

### 5.2 页面布局

- **整体布局**：左侧固定导航栏，右侧内容区
- **导航栏**：顶部为系统标题和用户信息，左侧为功能模块导航菜单
- **内容区**：顶部为面包屑导航和操作按钮，中部为功能表单或列表，底部为分页控件
- **模态框**：居中显示，带有标题栏、内容区和操作按钮
- **响应式设计**：适配不同屏幕尺寸，在小屏幕设备上自动调整布局

### 5.3 响应式设计

- **桌面端**：完整显示所有功能和布局
- **平板端**：调整布局，保持核心功能可用
- **移动端**：简化布局，只显示核心功能，使用汉堡菜单替代左侧导航栏

### 5.4 组件设计

- **按钮**：主要按钮、次要按钮、文本按钮、图标按钮
- **输入框**：文本输入框、密码输入框、数字输入框、日期输入框
- **下拉框**：单选下拉框、多选下拉框、树形下拉框
- **表格**：可排序表格、可筛选表格、可分页表格
- **表单**：水平表单、垂直表单、内联表单
- **模态框**：信息模态框、确认模态框、操作模态框
- **提示框**：成功提示、警告提示、错误提示、信息提示
- **加载动画**：页面加载动画、按钮加载动画、表格加载动画

### 5.5 图标规范

- **使用场景**：导航菜单、操作按钮、状态指示、提示信息
- **图标风格**：使用 Font Awesome 图标库，保持图标风格统一
- **图标大小**：导航菜单图标 16px，操作按钮图标 14px，状态指示图标 12px
- **图标颜色**：与文本颜色一致，或使用主题色突出显示

## 6. 其他相关信息

### 6.1 术语定义

- **图纸**：企业生产、设计过程中产生的各种技术文件，如装配图、结构图、电气图等
- **版本号**：图纸的版本标识，如 V1.0、V2.1 等
- **审批状态**：图纸的审批状态，包括待审核、审核通过、审核退回、无需审核
- **文件夹**：用于组织和分类图纸的容器
- **角色**：系统中用户的权限集合，如系统管理员、审批人员、普通用户
- **权限**：用户对系统资源的访问和操作权利

### 6.2 参考资料

- **行业标准**：GB/T 17825-1999 《CAD 文件管理》
- **技术文档**：Tailwind CSS 官方文档、Font Awesome 官方文档
- **设计规范**：Ant Design 设计规范、Material Design 设计规范

## 7. 总结

企业图纸管理系统是一个专为企业内部图纸文件管理设计的系统，通过集中存储、版本控制、规范审批流程等功能，实现图纸文件的高效管理和安全保障。系统具有用户友好的界面、完善的功能和可靠的性能，能够满足企业对图纸管理的各种需求。

本产品需求文档详细描述了系统的功能模块、页面详情、核心流程和用户接口设计，为系统开发提供了清晰的指导。在开发过程中，我们将严格按照本文档的要求进行实现，确保系统的质量和用户体验。